<link rel="import" href="/bower_components/polymer/polymer.html">

<link rel="import" href="/bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="/bower_components/paper-tabs/paper-tab.html">
<link rel="import" href="/bower_components/neon-animation/neon-animated-pages.html">
<link rel="import" href="/bower_components/neon-animation/animations/slide-from-right-animation.html">
<link rel="import" href="/bower_components/neon-animation/animations/slide-left-animation.html">


<dom-module id="office-interface-view">
    <template>
        <style>
        </style>

        <paper-tabs selected="{{selected}}" attr-for-selected="name">
            <paper-tab name="calendar">Kalendář</paper-tab>
            <paper-tab name="waiting-list">Pořadník</paper-tab>
            <paper-tab name="settings">Nastavení</paper-tab>
        </paper-tabs>

        <neon-animated-pages selected="[[selected]]" attr-for-selected="name" entry-animation="slide-from-right-animation"
                             exit-animation="slide-left-animation">
            <interface-calendar-view name="calendar"></interface-calendar-view>
            <interface-waiting-list-view name="waiting-list"></interface-waiting-list-view>
            <interface-settings-view name="settings"></interface-settings-view>
        </neon-animated-pages>

    </template>

    <script>
        Polymer({
            is: 'office-interface-view',

            properties: {
                profileID: {
                    type: String,
                    computed: 'computeID(route.path)'
                },

                selected: {
                    type: String,
                    value: "calendar", // First selected view
                    observer: "loadView"
                }
            },

            loadView: function (viewName) {
                this.importHref("/views/office_views/interface_views/interface-" + viewName + "-view.html", null, null, false);
            },

            computeID: function (path) {
                if (path.length < 2) return null;
                return (path.substring(1));
            }
        });
    </script>
</dom-module>
