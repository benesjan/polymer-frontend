<link rel="import" href="/bower_components/polymer/polymer.html">

<link rel="import" href="/bower_components/paper-input/paper-input.html">
<link rel="import" href="/bower_components/paper-input/paper-textarea.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">

<link rel="import" href="/bower_components/polymerfire/firebase-app-script.html">

<link rel="import" href="/styles/input-styles.html">
<link rel="import" href="/styles/button-styles.html">

<link rel="import" href="/behaviors/form-validation-behavior.html">


<dom-module id="booking-view">
    <template>
        <style include="input-styles button-styles">

            @media only screen and (min-width: 1410px) {

                form {
                    width: 350px;
                    overflow-y: auto;
                    overflow-x: hidden;
                    max-height: 40vh
                }
            }
        </style>

        <span>Datum objednání:<br><b>[[data.formatedDate]]</b></span><br>

        <form id="main_form" is="iron-form">
            <paper-input label="Jméno a příjmení pacienta" min="1" max="80" required auto-validate
                         value="{{patientName}}"> </paper-input>
            <paper-textarea label="Dobrovolná poznámka" value="{{patientMessage}}" char-counter
                            maxlength="200"></paper-textarea>
        </form>

        <paper-button responsive id="dialog-button" on-tap="confirmAppointment" raised>
            Objednat pacienta
        </paper-button>

    </template>

    <script>
        Polymer({
            is: 'booking-view',

            behaviors: [FormValidationBehavior],

            validate: function () {
                return this._validateForm(this.$.main_form);
            }
        });

    </script>
</dom-module>