<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="/bower_components/paper-input/paper-textarea.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/bower_components/gold-email-input/gold-email-input.html">
<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="/bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="/bower_components/polymerfire/firebase-app-script.html">
<link rel="import" href="/bower_components/iron-form/iron-form.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">

<link rel="import" href="/styles/input-styles.html">
<link rel="import" href="/styles/layout-styles.html">
<link rel="import" href="/styles/button-styles.html">

<dom-module id="docinfo-view">
    <template>
        <style include="button-styles layout-styles input-styles">
            :host {
                display: block;
                color: #252526;
            }

            .green-background {
                background-color: var(--app-green-color);
                color: #fff !important;
            }

            .blue-background {
                background-color: var(--app-accent-color);
                color: #fff !important;
            }

            .green-text {
                color: var(--app-green-color);
            }

            .blue-text {
                color: var(--app-accent-color);
            }

            a {
                text-decoration: none;
                color: var(--app-green-color);
                font-weight: 500;
            }

            a:hover {
                text-decoration: underline;
            }

            .styled-link {
                font-weight: bold;
                background-color: var(--app-green-color);
                color: #fff;
                padding: 0.6em 1.1em;
                border-radius: 2em;
                letter-spacing: 0.02em;
            }

            .styled-link:hover {
                text-decoration: none;
            }

            h1 {
                letter-spacing: 0.03em;
                font-size: 1.5em;
                margin-top: 0;
                margin-bottom: 1.5em;
            }

            paper-button, .styled-link {
                transition: all 0.3s cubic-bezier(.25, .8, .25, 1);
                box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
            }

            .main-frame {
                max-width: 1350px;
                font-weight: lighter;
                padding: 0;
                margin: 0 auto;
            }

            .grid section {
                padding: 3em 5%;
                margin: 0 !important;
                position: relative;
            }

            section > p {
                font-size: 1.2em;
                line-height: 1.65em;
                font-weight: 100;
            }

            header {
                background-color: #fff;
                color: var(--app-accent-color);
                padding-top: 1em;
                padding-bottom: 1.2em;
            }

            header > section {
                max-width: 1300px;
                margin: 0 auto;
                text-align: left;
            }

            header h1 {
                position: relative;
            }

            header #headline-arrow {
                position: absolute;
                left: -30px;
                top: 7px;
            }

            header h2 {
                text-align: center;
                margin-top: 0;
                font-size: 1.3em;
            }

            header paper-button {
                padding: 1.5em 2.5em;
                font-weight: bold;
                letter-spacing: 0.08em;
            }

            header p {
                font-size: 1.3em;
            }

            header paper-button {
                margin-top: 0;
            }

            #headline-arrow {
                color: var(--app-green-color);
                height: 20px;
                width: auto;
                margin-right: 0.5em;
            }

            header .arrow {
                max-height: 26px;
                position: absolute;
                top: calc(50% - 15px);
                left: calc(50% - 12em);
            }

            /******************/

            #who-can-book-section {
                margin-bottom: 0;
                padding-top: 3em;
                position: relative;
            }

            /********************/
            #not-sure-container {
                position: relative;
                margin-top: 0;
                padding-top: 1em;
                padding-bottom: 1em;
            }

            #not-sure-container .main-frame {
                max-width: 800px;
                margin: 0 auto;
            }

            #not-sure-container span {
                color: var(--app-blue-color);
                font-weight: bolder;
                margin-top: 2.5em;
                padding-top: 1em;
                border-top: 1px solid #e2e2e3;
                display: block;
            }

            #not-sure-container .styled-link {
                display: inline-block;
                text-align: center;
            }

            /***************/

            #about-section {
                border-bottom: 1px solid #e2e2e3;
                border-top: 1px solid #e2e2e3;
                background-color: #fafafb;
            }

            /****************/

            .presentation-img {
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                margin: auto;
            }

            #comp-img {
                margin-left: 0;
                margin-bottom: 0;
                max-width: 550px;
                max-height: 550px;
            }

            .img-section {
                text-align: center;
            }

            /*****************
           -----OVERVIEW-----
            ****************/

            #overview {
                color: #fff;
                position: relative;
                padding-top: 3em;
                padding-bottom: 2.5em;
            }

            #overview .main-frame section {
                padding-left: 3.5%;
                padding-right: 3.5%;
                padding-bottom: 2em;
            }

            #overview .badge {
                color: #fff;
                background-color: var(--app-green-color);
                border: none;
                margin-left: 0;
                margin-bottom: 1em;
                font-size: 1.3em;
                width: 35px;
                height: 35px;
                line-height: 1.9em;
            }

            #overview h1 {
                font-size: 1.3em;
                margin-bottom: 1.2em;
                letter-spacing: 0.03em;
            }

            #overview p {
                padding-bottom: 1em;
                border-bottom: 1px solid rgba(256, 256, 256, 0.2);
            }

            #overview ul {
                list-style: none;
                padding-left: 0;
                margin-bottom: 1.5em;
            }

            #overview iron-icon {
                display: inline-block;
                width: 25px;
                margin-right: 1em;
                color: var(--app-green-color);
                vertical-align: text-bottom;
            }

            #overview ul li {
                margin-top: 1.5em;
                font-weight: bolder;
                letter-spacing: 0.03em;
                font-size: 1.1em;
                position: relative;
            }

            #overview ul li span {
                font-weight: bold;
            }

            #overview .page-arrow {
                position: absolute;
                top: -1px;
                width: 5em;
                left: calc(50% - 2.5em);
            }


            #overview ul li .arrow {
                position: absolute;
                margin-left: 2em;
                max-width: 45px;
                max-height: 35px;
            }

            #overview-button-container {
                max-width: 800px;
                text-align: center;
                margin: 0.5em auto;
                color: #fff;
                font-weight: 500;
            }

            #overview-button-container paper-button {
                padding: 1.2em 2em;
                font-size: 1.1em;
                border-radius: 5em;
                margin: 1.5em 2em;
            }

            #show-more {
                color: #fff;
                cursor: pointer;
                font-size: 1em;
                letter-spacing: 0.1em;
                text-transform: uppercase;
                display: inline-block;
                margin: 1.5em 2em;
            }

            /*****************
            -----HOW HELP-----
             ****************/

            #how-help-section {
                padding: 4em 1.5em 2em 1.4em;
                position: relative;
                box-shadow: 0px 0px 35px 0px rgba(180, 180, 185, 0.3);
            }

            #how-help-section h1 {
                margin-bottom: 2em;
                text-align: center;
                font-size: 1.5em;
                color: var(--app-accent-color);
            }

            #how-help-section .main-frame {
                max-width: 1000px;
            }

            #how-help-section img {
                max-height: 110px;
            }

            #how-help-section section {
                text-align: center;
                padding: 3em 7%;
                height: 22.5em;
            }

            #how-help-section h2 {
                margin-top: 2em;
                font-size: 1.2em;
            }

            #how-help-section p {
                text-align: left;
                font-size: 1.25em;
                left: 3.5em;
                right: 3.5em;
            }

            #how-look-headline {
                text-align: center;
                font-size: 0.9em;
                padding: 0 1em;
                margin-top: 0;
            }

            #how-look-headline span {
                position: relative;
            }

            #how-look-headline img {
                max-height: 1.6em;
                position: absolute;
                right: -1.6em;
                top: 10px;
            }

            /***** OFFICE PRESENTATION ********/


            #presentation{
                padding-top: 2em;
            }

            #presentation .own-website-link {
                display: block;
                margin-top: 3em;
            }

            /*** QUESTION FORM ***/

            #question-container {
                padding: 3em 1.5em;
            }

            #question-container h1 {
                letter-spacing: 0.02em;
                margin-top: 0.5em;

            }

            form {
                max-width: 600px;
                margin: 0 auto;
            }

            #presentation .free-label {
                margin-bottom: 1em;
            }

            #settings-img {
                max-height: 490px;
                max-width: 490px;
            }

            .free-label {
                color: var(--app-green-color);
                font-size: 0.9em;
                text-align: left;
                border: none;
                background-color: transparent;
                margin-bottom: 0.8em;
                display: block;
                width: 4.5em;
                padding: 0 0 0.1em;
                border-bottom: 1px solid var(--app-green-color);
            }

            #why-booking-section {
                color: #fff;
                text-align: center;
                padding: 6em 2em 1em 2em;
                background-color: var(--app-green-color);
                position: relative;
            }

            #why-booking-section .main-frame {
                padding-bottom: 1.5em;
                border-bottom: 3px dashed #fff;
            }

            #why-booking-section h1 {
                margin-bottom: 0;
                font-size: 1.4em;
            }

            .why-booking-img {
                max-height: 120px;
            }

            #why-booking-section .header-div {
                text-align: center;
            }

            #why-booking-section .header-div h2 {
                border-radius: 10em;
                text-transform: uppercase;
                font-size: 1.1em;
                width: 13em;
                margin: 0 auto 1em auto;
            }

            #why-booking-section .description-div {
                text-align: left;
                font-size: 1.1em;
                letter-spacing: 0.025em;
                line-height: 1.5em;
            }

            #add-online-booking {
                text-align: center;
                position: relative;
                padding: 3em 1.5em 0 1.5em;
            }

            #add-online-booking .free-label {
                display: inline-block;
            }

            #add-online-booking h2 {
                margin-bottom: 0;
                margin-top: 0;
                font-size: 1.3em;
            }

            #add-online-booking img {
                color: var(--app-accent-color);
                height: 30px;
                position: relative;
                bottom: -34px;
                z-index: 2;
            }

            /* REGISTRATION STEPS */

            #registration {
                color: #fff;
                background-color: var(--app-accent-color);
                text-align: center;
                font-size: 0.9em;
                position: relative;
            }

            #registration .main-frame {
                max-width: 700px;
                padding: 5.5em 1.5em;
                overflow: inherit;
            }

            #registration h1 {
                letter-spacing: 0.03em;
                text-align: left;
            }

            .badge {
                background-color: #fff;
                color: var(--app-accent-color);
                width: 45px;
                height: 45px;
                border-radius: 100%;
                display: inline-block;
                font-size: 1.8em;
                font-weight: bold;
                line-height: 1.9em;
                text-align: center;
                vertical-align: middle;
                margin: auto 2em auto 0;
            }

            #step-one {
                position: relative;
            }

            #step-one .arrow {
                position: absolute;
                width: 5.3em;
                left: -7.5em;
            }

            #step-one .badge {
                background-color: var(--app-green-color);
                color: #fff;
                box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
            }

            .step-container {
                margin: 3em auto;
                text-align: left;
            }

            .step-container .headline {
                font-size: 1.5em;
            }

            .step-container paper-button {
                padding: 1.4em 2.4em;
                font-weight: bold;
                font-size: 1.1em;
                letter-spacing: 0.08em;
                margin: 0;
            }

            #step-two {
                font-weight: bold;
            }

            .vertical-align {
                margin-top: auto;
                margin-bottom: auto;
            }

            .top-align {
                margin-top: 0;
                margin-bottom: auto;
            }

            #step-three .headline {
                margin-top: 0.4em;
                font-weight: bold;
            }

            #step-three p {
                font-weight: 100;
                font-size: 1.2em;
            }

            /*** ABOUT ***/

            #profile-images-section {
                margin-left: 5em;
                max-width: 160px;
                padding-left: 5em;
                padding-right: 5em;
                border-left: 1px solid #e2e2e3;
            }

            .profile-image {
                position: static;
                max-width: 150px;
                max-height: 150px;
            }

            #about-section {
                margin-bottom: 0;
            }


            /****** FLEX LAYOUT ****/

            .flex-horizontal, .booking-flex-horizontal {
                @apply(--layout-horizontal);
            }

            .flexchild {
                @apply(--layout-flex);
            }


            /*
           ---- MEDIA ----
           */

            @media (max-width: 1200px) {
                #comp-img {
                    max-width: 450px;
                    max-height: 450px;
                }

                #settings-img {
                    max-width: 350px;
                    max-height: 350px;
                }

                header .image-section {
                    text-align: center;
                }

                header h1 {
                    font-size: 1.6em;
                }

                #headline-arrow {
                    height: 13px;
                }
            }

            @media (max-width: 716px) {

                :host {
                    font-size: 0.85em;
                }

                .grid section {
                    padding: 7% 5%;
                }


                header paper-button{
                    display: block;
                    width: 16em;
                    text-align: center;
                    margin: 1em auto;
                }

                .presentation-img {
                    position: static;
                    max-width: 150px;
                    max-height: 150px;
                }

                #profile-images-section {
                    margin: 0;
                    padding-left: 0;
                    padding-right: 0;
                    border: none;
                    text-align: center;
                    max-width: 100%;
                }

                #who-can-book-section .arrow {
                    height: 40px;
                    bottom: -39px;
                }

                .why-booking-img {
                    max-height: 80px;
                }

                .badge {
                    line-height: 2.3em;
                }

                #registration {
                    font-size: 0.9em;
                }

                #overview ul li .arrow {
                    top: 15px;
                }

                #how-help-section p {
                    left: 0.5em;
                    right: 0.5em;
                }
            }

            @media (max-width: 980px) {

                #who-can-book-section {
                    padding-top: 0;
                }

                .booking-flex-horizontal {
                    @apply(--layout-vertical);
                }
            }

            @media (min-width: 767px) {

                paper-button:hover {
                    transform: scale(1.1);
                    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
                }

                .styled-link:hover {
                    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
                }
            }

            /******** ANIMATIONS ************/

            /*Vertical Sliding*/
            .slidingVertical {
                display: inline;
            }

            .slidingVertical p {

                /*on all browsers*/
                animation: topToBottom 20s linear infinite 0s;
                -ms-animation: topToBottom 20s linear infinite 0s;
                -webkit-animation: topToBottom 20s linear infinite 0s;

                opacity: 0;
                overflow: hidden;
                position: absolute;
            }

            .slidingVertical p:nth-child(2) {
                animation-delay: 10s;
                -ms-animation-delay: 10s;
                -webkit-animation-delay: 10s;
            }

            #help-patients-sliding p:nth-child(1) {
                animation-delay: 5s;
                -ms-animation-delay: 5s;
                -webkit-animation-delay: 5s;
            }

            #help-patients-sliding p:nth-child(2) {
                animation-delay: 15s;
                -ms-animation-delay: 15s;
                -webkit-animation-delay: 15s;
            }

            @-moz-keyframes topToBottom {

                0% {
                    opacity: 0;
                }
                5% {
                    opacity: 0;
                    -webkit-transform: translateY(-50px);
                }
                10% {
                    opacity: 1;
                    -webkit-transform: translateY(0px);
                }
                25% {
                    opacity: 1;
                    -webkit-transform: translateY(0px);
                }
                30% {
                    opacity: 0;
                    -webkit-transform: translateY(50px);
                }
                80% {
                    opacity: 0;
                }
                100% {
                    opacity: 0;
                }
            }

            @-webkit-keyframes topToBottom {
                0% {
                    opacity: 0;
                }
                5% {
                    opacity: 0;
                    -webkit-transform: translateY(-50px);
                }
                10% {
                    opacity: 1;
                    -webkit-transform: translateY(0px);
                }
                25% {
                    opacity: 1;
                    -webkit-transform: translateY(0px);
                }

                50% {
                    opacity: 1;
                    -webkit-transform: translateY(0px);
                }

                55% {
                    opacity: 0;
                    -webkit-transform: translateY(50px);
                }
                80% {
                    opacity: 0;
                }
                100% {
                    opacity: 0;
                }
            }

            @-ms-keyframes topToBottom {
                0% {
                    opacity: 0;
                }
                5% {
                    opacity: 0;
                    -ms-transform: translateY(-50px);
                }
                10% {
                    opacity: 1;
                    -ms-transform: translateY(0px);
                }
                25% {
                    opacity: 1;
                    -ms-transform: translateY(0px);
                }
                30% {
                    opacity: 0;
                    -ms-transform: translateY(50px);
                }
                80% {
                    opacity: 0;
                }
                100% {
                    opacity: 0;
                }
            }

            svg {
                overflow: visible;
            }

            .pulse-spred {
                transform-origin: center center;
                animation: pulse-me 2.4s cubic-bezier(0, 0.5, 0.26, 0.72) infinite;
                stroke-width: 0;
                fill: #aeaeaf;

            }

            .pusle-static {
                transform-origin: center center;
                animation: scale-me 1.2s cubic-bezier(0, 0.5, 0.26, 0.72) infinite 0s alternate,
                opacity-change 4.8s cubic-bezier(0, 0.5, 0.26, 0.72) infinite 0s;
            }

            #hearth-green {
                opacity: 1;
                fill: var(--app-green-color);
            }

            #hearth-blue {
                opacity: 0;
                fill: var(--app-accent-color);
                -webkit-animation-delay: 2.4s;
            }

            @keyframes scale-me {
                0% {
                    transform: scale(1);
                }
                100% {
                    transform: scale(1.2);
                }
            }

            @keyframes opacity-change {
                0% {
                    opacity: 0.6;
                }

                30% {
                    opacity: 1;
                }

                50% {
                    opacity: 1;
                }

                51% {
                    opacity: 0.1;
                }

                100% {
                    opacity: 0;
                }
            }

            @keyframes pulse-me {
                0% {
                    transform: scale(1);
                    opacity: 0.15;
                }

                50% {
                    opacity: 0.05;
                }
                90% {
                    opacity: 0.01;
                }

                100% {
                    transform: scale(5);
                    opacity: 0;
                    stroke-opacity: 0;
                }
            }


        </style>

        <iron-media-query query="max-width:460px" query-matches="{{mobileScreen}}"></iron-media-query>
        <iron-media-query query="max-width:716px" query-matches="{{smallScreen}}"></iron-media-query>
        <iron-media-query query="max-width:980px" query-matches="{{mediumScreen}}"></iron-media-query>

        <header>
            <section class="grid">
                <section>
                    <h1><img src="../images/docinfo/headline-arrow.png" id="headline-arrow">
                        VYUŽIJTE MOŽNOSTI POMOCI SOBĚ I OSTATNÍM

                    </h1>
                    <p>
                        Docta.cz je unikátní projekt, který vznikl za účelem
                        pomoci lékařům a zlepšit péči o pacienty.
                    </p>
                    <p>
                        Jako lékaři máte v rukou možnost pomoci nejen sobě, ale i svým pacientům. Proto poskytujeme
                        většinu
                        našich služeb bezplatně a k jejich využití se stačí jen zaregistrovat.
                    </p>
                    <br><br>
                    <a href="[[computeUrl(signedIn)]]">
                        <paper-button>[[computeButtonText(signedIn)]]</paper-button>

                    </a>
                </section>

                <section class="image-section" hidden="[[smallScreen]]" id="pulse-section">

                    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
                    <svg class="presentation-img" id="hearth-svg"
                         xmlns="http://www.w3.org/2000/svg" height="70px" width="25.896mm" version="1.1"
                         viewBox="0 0 91.758563 82.033932">
                        <g id="layer1" fill-rule="evenodd" fill="#26a69a" transform="translate(373.83 -393.78)">
                            <path class="pulse-spred" id="circle-1"
                                  d="m-350.3 393.79c-11.15-0.17286-21.071 8.348-22.776 17.451-2.1504 8.019 0.6383 17.772 4.5512 24.214 12.313 17.619 28.822 25.025 40.56 40.31 0.003 0.002 0.0389 0.0557 0.0406 0.0557 11.738-15.285 28.247-22.691 40.56-40.31 3.9129-6.4424 6.7016-16.195 4.5512-24.214-2.8692-15.32-29.008-28.989-45.115-2.3491-6.5417-10.852-14.744-15.039-22.372-15.158z"></path>
                            <path class="pusle-static" id="hearth-blue"
                                  d="m-350.3 393.79c-11.15-0.17286-21.071 8.348-22.776 17.451-2.1504 8.019 0.6383 17.772 4.5512 24.214 12.313 17.619 28.822 25.025 40.56 40.31 0.003 0.002 0.0389 0.0557 0.0406 0.0557 11.738-15.285 28.247-22.691 40.56-40.31 3.9129-6.4424 6.7016-16.195 4.5512-24.214-2.8692-15.32-29.008-28.989-45.115-2.3491-6.5417-10.852-14.744-15.039-22.372-15.158z"></path>

                            <path class="pusle-static" id="hearth-green"
                                  d="m-350.3 393.79c-11.15-0.17286-21.071 8.348-22.776 17.451-2.1504 8.019 0.6383 17.772 4.5512 24.214 12.313 17.619 28.822 25.025 40.56 40.31 0.003 0.002 0.0389 0.0557 0.0406 0.0557 11.738-15.285 28.247-22.691 40.56-40.31 3.9129-6.4424 6.7016-16.195 4.5512-24.214-2.8692-15.32-29.008-28.989-45.115-2.3491-6.5417-10.852-14.744-15.039-22.372-15.158z"></path>

                        </g>
                    </svg>
                </section>
            </section>
            <h2 class="blue-color">Co můžete udělat?</h2>
        </header>


        <section id="overview" class="blue-background">
            <img src="../images/docinfo/header-arrow.png" class="page-arrow">
            <div class="main-frame grid">
                <section>
                    <h1>
                        <div class="free-label">ZDARMA
                        </div>
                        ZVEŘEJNĚTE INFORMACE O VAŠÍ
                        ORDINACI NA INTERENTU
                    </h1>
                    <p>Vyplňte informace o své ordinaci a zpřístupněte je svým pacientům.
                        Veškeré informace máte pod kontrolu.</p>
                    <ul>
                        <li>
                            <iron-icon icon="check"></iron-icon>
                            Veškeré kontaktní informace
                        </li>
                        <li>
                            <iron-icon icon="check"></iron-icon>
                            Seznam smluvních pojišťoven
                        </li>
                        <li>
                            <iron-icon icon="check"></iron-icon>
                            Upozornění na dovolenou
                        </li>
                        <li>
                            <iron-icon icon="check"></iron-icon>
                            Ordinační hodiny
                        </li>
                        <li>
                            <iron-icon icon="check"></iron-icon>
                            Posyktované služby a jejich ceny
                        </li>
                        <li>
                            <iron-icon icon="check"></iron-icon>
                            Libovolná zpráva pacientům
                        </li>
                        <li>
                            <iron-icon icon="check"></iron-icon>
                            <span class="green-text">Volitelné: &nbsp;</span>Objednávací kalendář<img
                                src="../images/docinfo/overview-booking-arrow.png" class="arrow" id="overview-booking-arrow"
                                hidden="[[mediumScreen]]">
                            <img src="../images/docinfo/down-arrow.png" class="arrow" hidden="[[!smallScreen]]"></li>
                    </ul>
                </section>

                <section>
                    <h1>
                        <div class="free-label">ZDARMA
                        </div>
                        UMOŽNĚTE PACIENTŮM OBJEDNAT SE
                        BEZ TELEFONOVÁNÍ
                    </h1>
                    <p>Kalendář si můžete kdykoli přidat na svůj profil.
                        Pacienti si v klidu vyberou volný termín kdykoli se jim to hodí. </p>
                    <ul>
                        <li>
                            <iron-icon icon="check"></iron-icon>
                            Vytvořte si kalendář na míru
                        </li>
                        <li>
                            <iron-icon icon="check"></iron-icon>
                            Kontrolujete si, kdo se může objednat
                        </li>
                        <li>
                            <iron-icon icon="check"></iron-icon>
                            Dovolená propojena s kalendářem
                        </li>
                        <li>
                            <iron-icon icon="check"></iron-icon>
                            Snadné rušení objednávacích časů a schůzek
                        </li>
                        <li>
                            <iron-icon icon="check"></iron-icon>
                            Objednané pacienty můžete zapisovat i ručně
                        </li>
                    </ul>
                </section>
            </div>

            <div id="overview-button-container">
                <a href="[[computeUrl(signedIn)]]"><paper-button>Mám zájem</paper-button></a>
                <a id="show-more">Chci zjistit více</a>
            </div>
        </section>

        <section id="how-help-section">
            <h1>CO ZNAMENÁ 10 MINUT VAŠEHO ČASU PRO PACIENTY?</h1>
            <div class="main-frame grid">
                <section>
                    <img src="../images/docinfo/patients-time.png">
                    <h2 class="blue-text">Ušetříte pacientům čas</h2>
                    <div class="slidingVertical">
                        <p>„
                            Už nemusím telefonovat ani chodit do ordinace. Vše, co potřebuji,
                            si zjistím z pohodlí domova.“
                        </p>
                        <p>
                            „
                            Konečně dopředu vím, že má lékař dovolenou. Když to zjistím až v ordinaci,
                            tak už je pozdě.
                            “
                        </p>
                    </div>

                </section>

                <section>
                    <img src="../images/docinfo/save-patients.png">
                    <h2 class="blue-text">Pomůžete jim s léčbou</h2>
                    <div class="slidingVertical" id="help-patients-sliding">

                        <p>„
                            Nerada telefonuji do ordinace. Díky Docta.cz jsem neodkládala
                            objednání a včas začala léčit rakovinu.“</p>
                        <p>
                            „
                            Často se nemohu dovolat do ordinace. A když není ordinační den, nemohu
                            se objednat vůbec.“
                        </p>
                    </div>
                </section>
            </div>

            <h2 id="how-look-headline" hidden="[[mediumScreen]]"><span class="green-text">Prohlédnětě si náš systém
                <img src="../images/docinfo/down-arrow.png"></span></h2>
        </section>

        <section id="presentation">
            <div class="main-frame grid">
                <section>
                    <h1>
                        ZVEŘEJNĚTE INFORMACE O VAŠÍ
                        ORDINACI NA INTERENTU
                    </h1>
                    <p>Po <a href="[[computeUrl(signedIn)]]" hidden="[[signedIn]]">registraci</a> <a href="[[computeUrl(signedIn)]]" hidden="[[!signedIn]]">přidání ordinace</a> vyplníte informace o své rodinaci.
                        Na Vašem profilu pacienti uvidí veškeré důležité informace odkukoli a kdykoli.
                        Nebudou tak muset volat nebo chodit k Vám do ordinace, aby zjistili, co potřebují.</p>
                    <p>
                        Informace o Vaší ordinaci můžete kdykoli změnit v přehledném nastavení.

                        <br>
                        <br>
                        <br>
                        <a class="styled-link" href="/d/strakova_plzen">Takto může vypadat Váš profil</a>
                        <a class="own-website-link blue-text" href="/newweb">
                            <iron-icon icon="icons:star" class="green-text"></iron-icon>
                            Profil zdarma Vám nestačí a chcete vlastní stránky?</a>
                    </p>
                </section>

                <section class="img-section" hidden="[[mediumScreen]]">
                    <img id="settings-img" class="presentation-img" src="../images/docinfo/settings.png">
                </section>
            </div>
        </section>

        <div id="add-online-booking">

            <h2 class="blue-text">
                PŘIDEJTE SI NA SVŮJ PROFIL OBJEDNÁVACÍ KALENDÁŘ
            </h2>
            <img class="" src="../images/docinfo/rectangle-white-arrow.png">
        </div>

        <section id="why-booking-section" class="green-background">
            <h1>Proč použít objednávání na internetu?</h1>
            <div class="main-frame booking-flex-horizontal grid">
                <section>
                    <div class="header-div">
                        <img class="why-booking-img" src="../images/docinfo/save-time.png">
                        <h2>Ušetříte si čas</h2>
                    </div>
                    <div class="description-div">
                        <p>Nezatěžujte sebe nebo Vaší sestru vyřizováním telefonátů. Vaši pacienti se objednají sami,
                            můžete se tak plně věnovat
                            práci, která má smysl.</p>
                    </div>
                </section>
                <section>
                    <div class="header-div">
                        <img class="why-booking-img" src="../images/docinfo/save-work.png">
                        <h2>Ušetříte si práci</h2>
                    </div>
                    <div class="description-div">
                        <p>Vytvoříme Vám kalendář přesně podle Vašich potřeb. Nemusíte listovat v papírech, vše budete
                            mít přehledně na jednom
                            místě.</p>
                    </div>
                </section>
                <section>
                    <div class="header-div">
                        <img class="why-booking-img" src="../images/docinfo/help-patients.png">
                        <h2>Pomůžete pacientům</h2>
                    </div>
                    <div class="description-div">
                        <p>Pacienti se chtějí objednat kdy se jim to hodí. Dopřejte jim čas na rozmyšlenou a nenuťte je
                            telefonovat během
                            Vašich ordinačních hodin.</p>
                    </div>
                </section>
            </div>
        </section>
        <section class="green-background" id="who-can-book-section">
            <div class="main-frame grid">
                <section class="img-section" hidden="[[mediumScreen]]">
                    <img id="comp-img" class="presentation-img" src="../images/docinfo/calendar.png">
                </section>
                <section id="office-calendar-section">
                    <h1 id="scrollTest">KDO SE K VÁM MŮŽE OBJEDNAT?</h1>
                    <p>Objednat se mohou jen pacienti, kteří jsou u nás zaregistrovaní.
                        Navíc si můžete sami kontrolovat,
                        kteří pacienti se k Vám mohou objednat a kteří ne. U každého pacienta uvidíte
                        informace k jeho identifikaci.
                        Můžete tak dovolit objednání jen svým pacientům.
                    </p>
                    <p>Nad tím, kdo se k Vám objedná, máte úplnou kontrolu.</p>
                </section>
            </div>
        </section>

        <section id="not-sure-container">
            <div class="main-frame grid">
                <section>
                    <h1>NEVÍTE, ZDA OBJEDNÁVÁNÍ VYUŽIJETE?</h1>
                    <p>Naše online objednávání je zcela bezplatné. Nezáleží tak na tom, jak moc jej Vaši klienti
                        využijí. Až se naše služba stane
                        standardem, uvidíte nárůst objednaných pacientů.</p>

                    <p><a href="[[computeUrl(signedIn)]]" hidden="[[signedIn]]">Registrace </a><a href="[[computeUrl(signedIn)]]" hidden="[[!signedIn]]">Přidání ordinace </a>Vám zabere jen 10 minut a naše služby můžete využít kdykoli.</p>

                    <p>
                        <span>Už máte vlastní stránku a chcete využít online objednávání?</span>
                        Rádi Vám pomůžeme vložit odkaz na Vaše stránky. Pokud máte zájem,
                        <a href="[[computeUrl(signedIn)]]" hidden="[[signedIn]]">zaregistrujte se</a><a href="[[computeUrl(signedIn)]]" hidden="[[!signedIn]]">přidejte ordinaci</a> a napište nám.
                    </p>

                    <br>
                    <br>
                    <p>
                        <a class="styled-link" href="/newweb">Zaujaly Vás naše služby, ale chcete vlastní stránky?</a>
                    </p>


                </section>
            </div>
        </section>

        <section id="registration">
            <div class="main-frame">
                <h1>JAK ZAČÍT POUŽÍVAT NAŠE SLUŽBY?</h1>
                <section id="registration-steps-section">
                    <div style="margin: 0 auto">
                        <div id="step-one" class="step-container flex-horizontal">
                            <img class="arrow" src="../images/docinfo/right-arrow.png" hidden="[[mediumScreen]]">
                            <a href="[[computeUrl(signedIn)]]" class="vertical-align badge" hidden="[[signedIn]]">
                                1
                            </a>
                            <a href="[[computeUrl(signedIn)]]" class="flexchild">
                                <paper-button raised>[[computeButtonText(signedIn)]]</paper-button>
                            </a>
                        </div>
                        <div id="step-two" class="step-container flex-horizontal" hidden="[[signedIn]]">
                            <div class="badge">2</div>
                            <div class="flexchild headline vertical-align">PŘIDEJTE SVOU ORDINACI</div>
                        </div>
                        <div id="step-three" class="step-container flex-horizontal" hidden="[[signedIn]]">
                            <div class="badge top-align">3</div>
                            <div class="flexchild">
                                <div class="headline">HOTOVO!</div>
                                <p>Vaše ordinace je na internetu! Věříme, že budete spokojeni.</p></div>
                        </div>
                    </div>
                </section>
            </div>
        </section>


        <section id="about-section">
            <div class="main-frame grid">
                <section>
                    <h1>PROČ DĚLÁME TENTO SYSTÉM?</h1>
                    <p>
                        Je rok 2017 a už 10 let existuje konkurence, která nabízí podobné služby co my. Místo toho, aby
                        se snažili uspokojit co nejvíc zákazníků, tak vybírají poplatky a zavazují smlouvami ke službám,
                        které by měly být samozřejmostí. Tím brzdí vývoj a odrazují lékaře od služeb, které jsou
                        prospěšné pro nás všechny.

                    </p>
                    <p>
                        Kvalita zdravotní péče ovlivňuje každého z nás, a proto jsme si dali za cíl vytvořit tento
                        veřejný systém.
                    </p>

                    <br>
                    <p>Naše služby neustále zlepšujeme a rozšiřujeme, systém má sloužit Vám.
                        Proto pokud máte jakýkoli návrh na zlepšení, neváhejte se nám ozvat. </p>
                </section>
                <section id="profile-images-section" class="">
                    <img src="../images/docinfo/jan.jpg" class="profile-image">
                    <img src="../images/docinfo/robert.jpg" class="profile-image">
                </section>
            </div>
        </section>

        <div id="question-container" hidden="[[messageSent]]">
            <form id="docinfo_form" is="iron-form">
                <h1>CHCETE SE NA NĚCO ZEPTAT? NAPIŠTĚ NÁM</h1>
                <gold-email-input id="email_input" error-message="Špatný formát"
                                  label="Vaše emailová adresa" required>
                </gold-email-input>
                <paper-textarea id="message_input" label="Vaše zpráva" char-counter
                                error-message="Zpráva nesmí být prázdná"
                                maxlength="2000" required></paper-textarea>
                <paper-button raised on-tap="send">Odeslat</paper-button>
            </form>
        </div>
    </template>

    <script>
        Polymer({
            is: 'docinfo-view',

            properties: {
                messageSent: {
                    type: Boolean,
                    value: false
                },

                trackingId: {
                    type: String,
                    notify: true
                },

                ip: {
                    type: String,
                    value: null
                }
            },

            observers: [
                "routePathObserver(route)"
            ],

            ready: function () {
                var xhr = new XMLHttpRequest(),
                    setIp = function (e) {
                        if (xhr.readyState === 4 && xhr.status === 200) {
                            var response = JSON.parse(xhr.responseText);
                            this.ip = response.ip;
                            // Catch first visit
                            if (!!this.route) {
                                this.routePathObserver(this.route);
                            }
                        }
                    }.bind(this);

                xhr.open('GET', "//ipinfo.io/json", true);
                xhr.send();
                xhr.addEventListener("readystatechange", setIp, false);
            },

            routePathObserver: function (route) {
                var path = route.path,
                    objectToSave = {};

                if (!(!!this.trackingId)) {
                    if (route.prefix === "/docinfo" && path.length > 1) {
                        this.trackingId = path.substring(1);
                    } else if (!!this.ip) {
                        this.trackingId = this.ip.replace(/[.]/g, "-");
                    }
                }

                if (!!this.trackingId) {
                    objectToSave["URL"] = route.prefix + route.path;
                    objectToSave["datetime"] = new Date().toString();
                    objectToSave["ip"] = this.ip;
                    firebase.apps[0].database().ref("/docInfoVisitors/" + this.trackingId).push(objectToSave);
                }

            },

            send: function () {
                //  paper-textarea was not detected by form validation, so I'm validating the inputs manually
                if (this.$.email_input.validate() && this.$.message_input.validate()) {
                    this.sendQuestion();
                }
            },

            sendQuestion: function () {

                var email = this.$.email_input.value,
                    message = this.$.message_input.value,
                    db = firebase.apps[0].database();

                db.ref('/docInfoQuestions/').push({
                    "email": email,
                    "message": message
                }).then(function () {
                    this.fire("show-toast", {text: "Zpráva odeslána"});
                    this.messageSent = true;
                }.bind(this), function () {
                    this.fire("show-dialog", {
                        path: "", viewName: "genericdialog", open: true,
                        data: {
                            text: 'Při ukládání dat se vyskytla chyba. Zkuste to prosím znovu.',
                            buttonText: 'Zavřít'
                        }
                    });
                }.bind(this));
            },

            computeUrl: function (signedIn) {
                return (signedIn) ? "/office/registration/first" : "/registration/doc";
            },

            computeButtonText: function (signedIn) {
                return (signedIn) ? "Přidat ordinaci" : "Zaregistrujte se";
            },

            scrollToPresentation: function () {
                //TODO smooth scrolling
                this.$.presentation.scrollIntoView();
            }
        });
    </script>
</dom-module>
